{"version":3,"file":"default-src_app_pages_tabs_rating_rating_page_ts.js","mappings":"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","sources":["./src/app/apis/get-user-details.service.ts","./src/app/pages/tabs/rating/rating.page.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { response } from 'express';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GetUserDetailsService {\n\n  constructor(private http :HttpClient) { }\n  \n  getImage(){\n    return this.http.get('http://127.0.0.1/ratify/user_details.php', {withCredentials:true})\n    .pipe(map((response: any) => response['image']));\n  }\n  getUsername(){\n    return this.http.get('http://127.0.0.1/ratify/user_details.php', {withCredentials:true})\n    .pipe(map((response: any) => response['username']));\n  }\n  getName(): Observable<any> {\n    return this.http.get('http://127.0.0.1/ratify/user_details.php', {withCredentials:true})\n    .pipe(map((response: any) => response['name']));\n   }\n   getRates(username) : Observable<any>{\n     return this.http.post(`http://127.0.0.1/ratify/get_users_rates.php?username=${username}`, JSON.stringify(username), {withCredentials:true})\n    .pipe(map((response:any)=>response));\n   \n   }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { GetUserDetailsService } from 'src/app/apis/get-user-details.service';\nimport { NavParams } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-rating',\n  templateUrl: './rating.page.html',\n  styleUrls: ['./rating.page.scss'],\n})\nexport class RatingPage implements OnInit {\n  \n  constructor(private modalCtr : ModalController, private http : HttpClient, private user : GetUserDetailsService,\n    private navParams : NavParams, private toastCtrl : ToastController, private alertCtrl : AlertController,\n    private route : Router) { }\n\n    cute : number;\n    personality : number;\n    hot : number;\n    social : number;\n    friendly: number\n    fun : number;\n    rated_user : string;\n    rated_name : string;\n    rated_image : string;\n\n  ngOnInit() {\n    this.cute = 0;\n    this.personality = 0;\n    this.hot = 0;\n    this.social = 0;\n    this.friendly =0;\n    this.fun =0;\n    this.rated_user = this.navParams.get('username');\n    this.rated_name = this.navParams.get('name');\n    this.rated_image = this.navParams.get('image');\n  }\n  close(){\n    this.modalCtr.dismiss();\n  }\n\n  async toastMessage(message, color){\n    const toast = this.toastCtrl.create({\n      message : message,\n      duration : 5000,\n      color: color,\n    });\n    (await toast).present(); \n  }\n   \n\n  starClicked(event){\n    var stars = document.querySelectorAll(('.icons ion-icon'));\n    var star = event.target;\n      if(star.name == 'star-outline'){\n        star.style.color = 'gold';\n        star.name = 'star';\n        }else if(star.name == 'star'){\n        star.style.color = '#eee';\n        star.name = 'star-outline';\n        }\n\n    //How Cute?\n\n      for(let i =0; i<5;i++){\n        if(star ==stars[i] && star.name =='star'){\n          this.cute+=20;   \n      }\n      if(star ==stars[i] && star.name =='star-outline'){\n        this.cute-=20;   \n    }\n    \n      }\n         //personality?\n\n         for(let i =5; i<10;i++){\n          if(star ==stars[i] && star.name =='star'){\n            this.personality+=20;   \n        }\n        if(star ==stars[i] && star.name =='star-outline'){\n          this.personality-=20;   \n      }\n      \n        }\n            //How Hot?\n\n      for(let i =10; i<15;i++){\n        if(star ==stars[i] && star.name =='star'){\n          this.hot+=20;   \n      }\n      if(star ==stars[i] && star.name =='star-outline'){\n        this.hot-=20;   \n    }\n    \n      }\n            //How Social?\n\n            for(let i =15; i<20;i++){\n              if(star ==stars[i] && star.name =='star'){\n                this.social+=20;   \n            }\n            if(star ==stars[i] && star.name =='star-outline'){\n              this.social-=20;   \n          }\n          \n            }\n\n              //How Friendly?\n\n              for(let i =20; i<25;i++){\n                if(star ==stars[i] && star.name =='star'){\n                  this.friendly+=20;   \n              }\n              if(star ==stars[i] && star.name =='star-outline'){\n                this.friendly-=20;   \n            }\n            \n              }\n\n              //How Fun?\n\n              for(let i =25; i<30;i++){\n                if(star ==stars[i] && star.name =='star'){\n                  this.fun+=20;   \n              }\n              if(star ==stars[i] && star.name =='star-outline'){\n                this.fun-=20;   \n            }\n            \n              }\n          \n  }\n\n  async upload_rates(){\n\n    var headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin', \"*\");\n    const rates = {\n      \"cute\" : this.cute,\n      'personality' : this.personality,\n      'hot' : this.hot,\n      'social' : this.social,\n      'friendly' : this.friendly,\n      'fun' : this.fun,\n      'rated' : this.rated_user,\n    }\n\n    let alert  = this.alertCtrl.create({\n      header : 'Reminder',\n      message: 'You can only rate ' + this.rated_user + ' once ',\n      buttons :[\n        {\n          text : 'Cancel',\n          role : 'cancel',\n\n        },\n        {\n          text : 'Rate',\n          handler: ()=>{\n            this.http.post('http://127.0.0.1/ratify/upload_rates.php', JSON.stringify(rates), {headers:headers, withCredentials : true}).subscribe((response : any)=>{\n           if(response['status']== 'success'){\n             this.toastMessage(this.rated_user +' Rated Successfully', 'success')\n             console.log(response);\n            }\n            else{\n            this.toastMessage(response['status'] + this.rated_user, 'danger');\n            console.log(response);\n          }\n            });\n          }\n        }\n      ]\n    });\n    (await alert).present();\n  }\n  checkRatings(){\n    setTimeout(()=>{\n     this.close();\n     setTimeout(()=>{\n      this.route.navigate(['user-stats'], {state : {username: this.rated_user, name:this.rated_name,image:this.rated_image}});\n     },300);\n    },300);\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}