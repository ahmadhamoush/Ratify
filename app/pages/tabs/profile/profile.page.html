<ion-content scroll-y="false">
    <ion-refresher slot="fixed" (ionRefresh)="refresh($event    )">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <div class="container">

        <div class="round-bottom"></div>

        <div>
            <ion-item lines="none" class="logo">
                <ion-label>
                    Ratify
                </ion-label>
            </ion-item>
            <ion-item class="settings" lines="none">

                <ion-icon (click)="settings()" style="transform: scale(1.2);" name="settings-outline"></ion-icon>

            </ion-item>

            <ion-fab horizontal="center" slot="fixed">
                <ion-fab-button class="image-container">
                    <img src={{displayedImage}} id="img" alt="">
                </ion-fab-button>
            </ion-fab>

            <ion-item lines="none" class="name">
                <ion-label>{{name}}</ion-label>
            </ion-item>
            <div>
                <div style="display: flex; justify-content: center;">
                    <small class=" username ">@{{username}}</small>
                    <small (click)="friends()" class="checkFriends">Check Friends</small>
                </div>
                <div style="display: flex;flex-direction: column; align-items: flex-start; ">
                    <ion-progress-bar color="light " value="{{total_rates/100}} "></ion-progress-bar>
                </div>
            </div>
            <div>
                <ion-item style="text-align: center; margin-top:65px; font-style: italic;  --ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                    <ion-label>
                        Rates (Total): {{total_rates}}
                    </ion-label>
                </ion-item>
            </div>
            <div style="display: flex; justify-content: center;">
                <div>
                    <ion-item style="text-align: center;--ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                        <ion-label>
                            Today
                        </ion-label>
                    </ion-item>
                    <ion-item style="text-align: center; --ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                        <ion-label>
                            0
                        </ion-label>
                    </ion-item>
                </div>
                <div>
                    <ion-item style="text-align: center; --ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                        <ion-label>
                            This Week
                        </ion-label>
                    </ion-item>
                    <ion-item style="text-align: center; --ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                        <ion-label>
                            0
                        </ion-label>
                    </ion-item>
                </div>
                <div>
                    <ion-item style="text-align: center; --ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                        <ion-label>
                            This Month
                        </ion-label>
                    </ion-item>
                    <ion-item style="text-align: center; --ion-item-background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%); color:white" lines="none">
                        <ion-label>
                            0
                        </ion-label>
                    </ion-item>
                </div>
            </div>
            <ion-content class="requests" scroll-x="true" scroll-y="false" style="margin-top: 40px">
                <div fxLayout="row nowrap" fxLayoutAlign="start start" fxLayoutGap="32px 12px grid">
                    <div fxFlex="25" style="background: linear-gradient(180deg, #2EA5BF 0%, #2EA5BF 100%);margin-right: 20px; " *ngFor="let request of requests;">
                        <div class="card-container" style="display: flex; flex-direction: column;">
                            <ion-card style="width:120px;height:120px; transition:1s;">
                                <ion-card-header style="background:linear-gradient(rgba(4, 9, 30, 0.7),rgba(4, 9, 30, 0.7)); padding-left: 5px; position: absolute; bottom: 0;">
                                    <ion-card-subtitle style="color:white; font-size:11px; text-align: left; width: 130px;">
                                        {{request.name}}
                                    </ion-card-subtitle>
                                    <ion-card-title style="color:white; font-size: 15px; text-align: left;">
                                        @{{request.username}}
                                    </ion-card-title>
                                </ion-card-header>
                                <img style="height:120px;width:120px; object-fit:cover" src="{{request.image}}">
                            </ion-card>
                            <ion-button title="{{request.username}}" (click)='accept_friend($event)' style="width:120px;--background:transparent;transition:1s;">ACCEPT</ion-button>
                            <ion-button title="{{request.username}}" (click)='decline_friend($event)' style="width:120px;--background:transparent;transition:1s;">DECLINE</ion-button>
                        </div>
                    </div>
                </div>
                <ion-item id="no_friends" lines="none" style="--background:transparent; --ion-item-color:white; text-align: center; font-weight: bold; margin-top:50px;">
                    <ion-label>
                        No Friend Requests
                    </ion-label>
                </ion-item>
            </ion-content>

            <small (click)="checkStats()" style=" position: relative; text-align: left;font-size: 14px; font-weight: bold;">Check Stats</small>
        </div>
    </div>
</ion-content>